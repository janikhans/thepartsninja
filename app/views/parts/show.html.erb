
<div class="row change-padding">
<!-- Main Content -->
  <div class="col-md-9">
      <!-- Basic Info and Picture -->
      <div class="row  nj-mat">
        <div class="col-md-3">
          <%= image_tag("missing-image.png", class:"img-responsive") %>
        </div>
        <div class="col-md-9">
          <div class="edit-btn"><%= link_to 'Edit', edit_part_path(@part), class:"float-right hidden-btn" %></div>
          <strong>Brand: </strong><%= @part.product.brand.name %> <br>
          <strong>Part Name: </strong><%= @part.product.name %> <br>
          <strong>Part Number: </strong><%= @part.part_number %> <br>
          <strong>Description: </strong><%= @part.product.description %> <br>
          <% if @part.note %>
            <strong>Additional Notes:</strong>
            <%= @part.note %>
          <% end %>
        </div>
      </div>


      <!-- Vehicle it's designed to fit -->
      <div class="nj-mat">
        <div data-toggle="collapse" data-target="#parts" class="mat-heading">
          <strong>This part is designed for</strong><i class="float-right fa fa-angle-double-down 2x"></i>
        </div>
        <div id="parts" class="collapse mat-contents table-test">
        <% if @part.oem_vehicles.any? %>
          <table id="part-list" class="table table-striped table-bordered" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>Year</th>
                    <th>Make</th>
                    <th>Model</th>
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <th>Year</th>
                    <th>Make</th>
                    <th>Model</th>
                </tr>
            </tfoot>
            <tbody>
              <% @part.oem_vehicles.each do |f|  %>
                <tr>
                  <td><%= f.year %> </td>
                  <td><%= f.brand.name %> </td>
                  <td><%= f.model %> </td>
                  <td> </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        <% else %>
          This part doesn't fit anything yet, would you like to add one? <%= link_to "Yes!", new_fitment_path  %>
        <% end %>
          
        </div>
      </div>

            <!-- These are compatible vehicles and the parts that they replace-->

            
      <div class="nj-mat">
        <div data-toggle="collapse" data-target="#compatible_vehicles" class="mat-heading">
          <strong>This part can be replaced with these parts</strong><i class="float-right fa fa-angle-double-down 2x"></i>
        </div>
        <div id="compatible_vehicles" class="collapse mat-contents table-test">
        <div class="ibox">
            <div class="ibox-title">
                <h5>Compatible Parts</h5>
                <div class="ibox-tools">
                    <a class="collapse-link">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                </div>
            </div>
            <div class="ibox-content no-padding">
            <% if @compatibles.any?  %>
              <%= render partial: 'compatibles/compatible', collection: @compatibles %>

            <% else %>
              <div class="search-box-padding">
                <h5 class="text-center">Search Compatible Parts</h5>
                <form class="search-container text-center" action="/search">
                  <input id="search-box" type="text" class="search-box" name="q" />
                  <label for="search-box"><span class="glyphicon glyphicon-search search-icon"></span></label>
                  <input type="submit" id="search-submit" />
                </form>
              </div>
            <% end %>
            </div>   
        </div>
      </div>

      <!-- This is a test to show the Compatible parts and what is being replaced-->
      <div class="nj-mat">
        <div data-toggle="collapse" data-target="#potential_vehicles" class="mat-heading">
          <strong>This part may be potentially replaced with these parts</strong><i class="float-right fa fa-angle-double-down 2x"></i>
        </div>
        <div id="potential_vehicles" class="collapse mat-contents table-test">
        <% if @part.potential_compatibles.any? %>
          <table id="part-list" class="table table-striped table-bordered" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>Part Name</th>
                    <th>Brand</th>
                    <th>Part Number</th>
                    <th>Year</th>
                    <th>Make</th>
                    <th>Model</th>
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <th>Part Name</th>
                    <th>Brand</th>
                    <th>Part Number</th>
                    <th>Year</th>
                    <th>Make</th>
                    <th>Model</th>
                </tr>
            </tfoot>
            <tbody>
              <% @part.potential_compatibles.each do |f|  %>
                <tr>
                  <td><%= f.fitment.part.product.name %> </td>
                  <td><%= f.fitment.part.product.brand.name %> </td>
                  <td><%= f.fitment.part.part_number %> </td>
                  <td><%= f.compatible_fitment.vehicle.year %> </td>
                  <td><%= f.compatible_fitment.vehicle.brand.name %> </td>
                  <td><%= f.compatible_fitment.vehicle.model %> </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        <% else %>
          This part doesn't fit anything yet, would you like to add one? <%= link_to "Yes!", new_fitment_path  %>
        <% end %>    
        </div>
      </div>

  </div>
<!-- Sidebar -->
  <div class="col-md-3">
    <div class="sidebar nj-mat">
      <div class="related-models">
        <h6 class="nj-heading">Potential Compatibilities</h6>
          <div id="model-id" class="potential-compats">
            <strong>Yamaha</strong>
              <ul>
                <li>2004 YZ250</li>
                <li>2011 YZ450</li>
                <li>2009 YZ125</li>
                <li>2009 YZ250</li>
                <li>2001 YZ400</li>
                <li>1999 YZ125</li>
              </ul>
          </div>
          <div id="model-id" class="potential-compats">
            <strong>Kawasaki</strong>
              <ul>
                <li>2000 KX125</li>
                <li>2007 KX450</li>
              </ul>
          </div>
      </div>
    </div>
  </div>
</div>